{# User message component
   Usage: {% chatMessage "user", "Message text", "12:34 PM" %}
   Usage: {% chatMessage "assistant", "Response text", "12:35 PM", toolUses %}
#}
{% macro user(text, time) %}
<div class="flex justify-end mb-6">
    <div class="max-w-[80%]">
        <div class="text-xs opacity-70 mb-1 px-2">
            You
            {% if time %}<time class="ml-2">{{ time }}</time>{% endif %}
        </div>
        <div class="rounded-2xl px-4 py-3 chat-bubble-primary">
            {{ text | safe }}
        </div>
    </div>
</div>
{% endmacro %}

{% macro assistant(text, time, toolUses) %}
<div class="flex justify-start mb-6">
    <div class="max-w-[80%]">
        <div class="text-xs opacity-70 mb-1 px-2">
            Claude
            {% if time %}<time class="ml-2">{{ time }}</time>{% endif %}
        </div>

        {# Tool uses display #}
        {% if toolUses %}
            {% for tool in toolUses %}
                {% include "components/tool-display.njk" %}
            {% endfor %}
        {% endif %}

        {# Main response #}
        <div class="rounded-2xl px-4 py-3 chat-bubble-secondary">
            {{ text | safe }}
        </div>
    </div>
</div>
{% endmacro %}

{% macro liveTranscription(text, time) %}
<div class="flex justify-end mb-6" id="live-transcription" style="display: none;">
    <div class="max-w-[80%]">
        <div class="text-xs opacity-70 mb-1 px-2">
            You
            <time class="ml-2">{{ time or "now" }}</time>
        </div>
        <div class="rounded-2xl px-4 py-3 chat-bubble-primary opacity-70">
            {{ text | safe }}
        </div>
    </div>
</div>
{% endmacro %}
